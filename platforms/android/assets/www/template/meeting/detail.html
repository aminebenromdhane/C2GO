<ion-view>
    <ion-content>
        <div ng-hide="meetingCtrl.loading">
            <div ng-controller="MapPartController as mapPart">

                <leaflet defaults="mapPart.defaultMapOptions"
                         center="meetingCtrl.center"
                         markers="meetingCtrl.marker"
                         layers="mapPart.layers" style="height: 150px;width: 100%;" class="overlay">
                </leaflet>
                <div class="absolute" flex="100" ng-controller="HeaderController as header">
                    <button class="button button-clear overlaid" ng-click="header.goTo('meeting.map')"><i class="md-keyboard-backspace white md-lg"></i></button>
                </div>
            </div>

            <div class="info-bar detail-padding ">
                <h4 flex="80" class="mt-title">{{ meetingCtrl.meeting.title }}</h4>

                        <md-button class="md-primary md-fab md-fab-top-right directions" md-theme="addicaid" ng-click="meetingCtrl.testDirection()">
                            <i class="md md-directions blue md-lg"></i>
                        </md-button>

                            <!-- are we using this ?
                            <p class="distance-amount">
                                {{ meeting.distance | distance }}
                            </p>

                            -->
                <div layout="row" class="row2">
                    <div flex="80" class="fellowship">
                        {{ meetingCtrl.meeting.fellowship.name }}
                    </div>
                    <div flex="20" class="dist-min">
                        {{ meetingCtrl.meeting.distance | distance }}
                    </div>
                </div>
            </div>

            <div class="detail-padding">
            <div class="detail-list" ng-show="meetingCtrl.meeting.address">
                <div layout="row" class="info" >
                    <div flex="100">
                        <a href="geo:38.897096,-77.036545">yoyo test me</a>
                        <span class="tool">
                            <i class="tooltip md md-place blue md-lg"></i>
                            {{ meetingCtrl.meeting.address }}, {{ meetingCtrl.meeting.city }}, {{ meetingCtrl.meeting.state }} {{ meetingCtrl.meeting.zip }}
                        </span>
                    </div>
                </div>
            </div>
            <div layout="row" class="info">
                <div flex="30">
                        <span class="tool day">
                        <i class="md md-today blue md-lg"></i>
                        {{ meetingCtrl.meeting.day }}</span>
                    </div>
                    </div>
                <div layout="row" class="info">
                <div flex="30">
                        <span class="tool time">
                        <i class="md md-access-time blue md-lg"></i>
                        {{ meetingCtrl.meeting.time | date:'shortTime' }}</span>
                    </div>
                </div>

                <div layout="row" flex="100" class="info">
                     <span class="tool notes">
                        <i class="md md-event-note blue md-lg"></i>
                            {{ meetingCtrl.meeting.notes }}
                            here are some meeting notes
                    </span>
            </div>

            </div>

            <div layout="row" class="actions">
                <div flex="30" style="text-align: center;">
                    <md-button md-theme="addicaid" class="md-primary">
                          <i class="md md-grade blue md-lg"></i>
                        <span>Save</span>
                    </md-button>
                </div>
                <div flex="30" style="text-align: center;">
                    <md-button md-theme="addicaid" class="md-primary">
                       <i class="md md-check blue md-lg"></i>
                        <span>check in</span>
                    </md-button>
                </div>
                <div flex style="text-align: center;">
                    <md-button md-theme="addicaid" class="md-primary" ng-click="meetingCtrl.confirmAddToCalendar($event)">
                         <i class="md md-event blue md-lg"></i>
                        <span>add to calendar</span>
                    </md-button>
                </div>
            </div>

            <div layout="row" class="detail-padding" >
                    <div flex="80" >
                         <span class="tool tags">
                        <i class="md md-label-outline blue md-lg"></i>
                        </span>
                        <ul class="tag-list" flex="80">
                        <li class="assigned">Young People&nbsp;<span class="dot">&centerdot;</span></li>
                        <li>Snacks&nbsp;<span class="dot">&centerdot;</span></li>
                        <li>Fellowship&nbsp;<span class="dot">&centerdot;</span></li>
                        </ul>
                    </div>
                    <div flex="20">
                        <md-button md-theme="addicaid" class="md-primary add-tag" ng-click="meetingCtrl.showTag($event)">ADD TAG</md-button>
                    </div>
            </div>

            <ion-list>

                <ion-item flex="100" class="user detail-padding" layout="row">
                   <img src="img/avatars/8bit1.jpg" flex="10" height="auto" class="circle avatar">
                   <div class="right-info" flex="90">
                    <h3 class="name">Sam Frons</h3>
                    <p class="comment-input">Add a comment here</p>
                    </div>
                </ion-item>

            </ion-list>

            <div class="detail-tabs">
            <md-tabs md-selected="data.selectedIndex" md-theme="addicaid">
                <md-tab id="tab1" aria-controls="tab1-content" class="comment tab">
                    3 Comments
                </md-tab>
                <md-tab id="tab2" aria-controls="tab2-content" class="check-in tab">
                    14 Check-ins
                </md-tab>
            </md-tabs>
            <ng-switch on="data.selectedIndex" class="tabpanel-container">
                <div role="tabpanel" id="tab1-content" aria-labelledby="tab1" ng-switch-when="0" md-swipe-left="next()" md-swipe-right="previous()">
                    <md-list class="no-height">
                        <md-item flex="100" class="user">
                            <md-item-content layout="row" flex="100" class="user-comment detail-padding">
                                 <img src="img/avatars/8bit1.jpg" flex="10" height="auto" class="circle avatar">

                                <div class="right-info" flex="90">
                                    <h3 class="name">Ali G</h3>
                                    <h6 class="post-date">14 months ago</h6>
                                    <p class="comment">
                                        Do you want to meet?
                                    </p>
                                </div>
                            </md-item-content>
                            <md-divider md-inset></md-divider>
                        </md-item>
                            <md-item-content layout="row" flex="100" class="user-comment detail-padding">
                                 <img src="img/avatars/batman.jpg" flex="10" height="auto" class="circle avatar">

                                <div class="right-info" flex="90">
                                    <h3 class="name">Ali G</h3>
                                    <h6 class="post-date">14 months ago</h6>
                                    <p class="comment">
                                        Sure thing.
                                    </p>
                                </div>
                            </md-item-content>
                    </md-list>
                </div>
                <div role="tabpanel" id="tab2-content" aria-labelledby="tab2" ng-switch-when="1" md-swipe-left="next()" md-swipe-right="previous()">
                    <ion-list>
                        <ion-item flex="100" class="user detail-padding check-in" layout="row">
                            <img src="img/avatars/8bit1.jpg" flex="10" height="auto" class="circle avatar">
                            <div class="right-info" flex="90">
                                <h3 class="name">Sam Frons</h3>
                                <p class="check-in date">12 minutes ago</p>
                            </div>
                        </ion-item>

                         <ion-item flex="100" class="user detail-padding check-in" layout="row">
                            <img src="img/avatars/8bit1.jpg" flex="10" height="auto" class="circle avatar">
                            <div class="right-info" flex="90">
                                <h3 class="name">Sam Frons</h3>
                                <p class="check-in date">12 minutes ago</p>
                            </div>
                        </ion-item>

                        <!--
                        <ion-item class="item-thumbnail-left">
                            <img ng-src="img/cluster.png">
                            <h2>
                                Username123
                            </h2>
                            <p>
                                1 month ago
                            </p>
                        </ion-item>
                        -->
                    </ion-list>
                </div>
            </ng-switch>
        </div>
        </div>

        <div ng-show="meetingCtrl.loading" style="text-align: center;padding-top: 20px;">
            <i style="font-size: 30px" class="ion-loading-c"></i>
        </div>
    </ion-content>
</ion-view>
